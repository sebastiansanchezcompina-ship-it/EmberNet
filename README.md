ğŸŒ EMBER MESH â€“ Red P2P Resiliente Off-Grid (Rust + UDP + TUI)Desarrollado por: Sebastian RequejoEMBER (Emergency Bearer Network) es un prototipo de red de malla descentralizada diseÃ±ado para comunicaciones crÃ­ticas en entornos sin infraestructura (Off-Grid).Este proyecto implementa el nÃºcleo (Core) de la red utilizando Rust para garantizar mÃ¡ximo rendimiento y seguridad de memoria. El sistema permite el descubrimiento automÃ¡tico de nodos, mensajerÃ­a encriptada de extremo a extremo (E2EE) y transferencia de archivos fragmentados sobre redes inestables, todo visualizado a travÃ©s de una interfaz de terminal tÃ¡ctica (TUI).ğŸ—ï¸ Estructura del ProyectoPlaintextğŸ“ ember-core/                         # RaÃ­z del proyecto
â”‚
â”œâ”€â”€ ğŸ“ src/                            # CÃ³digo Fuente (Rust)
â”‚   â”œâ”€â”€ main.rs                        # ğŸ–¥ï¸ Punto de entrada & Interfaz TUI (Matrix Style)
â”‚   â”œâ”€â”€ node.rs                        # ğŸ§  Cerebro lÃ³gico: Manejo de estados y eventos
â”‚   â”œâ”€â”€ transport.rs                   # ğŸ“¡ Capa de Red: Sockets UDP y manejo de puertos
â”‚   â”œâ”€â”€ protocol.rs                    # ğŸ“¦ DefiniciÃ³n de Paquetes (Frames, Headers)
â”‚   â”œâ”€â”€ crypto.rs                      # ğŸ” Seguridad: Cifrado y Descifrado
â”‚   â”œâ”€â”€ identity.rs                    # ğŸ†” GestiÃ³n de Llaves (PÃºblicas/Privadas)
â”‚   â”œâ”€â”€ chunker.rs                     # ğŸ§© FragmentaciÃ³n y Reensamblaje de archivos
â”‚   â”œâ”€â”€ rate_limiter.rs                # ğŸš¦ Control de flujo (Anti-Spam)
â”‚   â””â”€â”€ replay_cache.rs                # ğŸ›¡ï¸ ProtecciÃ³n contra ataques de repeticiÃ³n
â”‚
â”œâ”€â”€ ğŸ“ downloads/                      # Carpeta automÃ¡tica para archivos recibidos
â”‚
â”œâ”€â”€ ğŸ“ target/                         # Binarios compilados (Debug/Release)
â”œâ”€â”€ .gitignore                         # ConfiguraciÃ³n de Git
â”œâ”€â”€ Cargo.toml                         # Gestor de dependencias (Manifest)
â””â”€â”€ README.md                          # DocumentaciÃ³n general
âš™ï¸ TecnologÃ­as PrincipalesComponenteTecnologÃ­aDescripciÃ³nLenguaje BaseRust ğŸ¦€Garantiza seguridad de memoria y rendimiento nativo.Interfaz (UI)Ratatui + CrosstermTUI (Terminal User Interface) reactiva y estilizada.RedUDP SocketsComunicaciÃ³n de baja latencia sin conexiÃ³n (Connectionless).Cifrado SimÃ©tricoChaCha20Poly1305EncriptaciÃ³n de alta velocidad para los payloads.Firmas DigitalesEd25519-DalekVerificaciÃ³n de identidad y autenticidad de mensajes.SerializaciÃ³nBincodeSerializaciÃ³n binaria compacta para eficiencia en red.ğŸ§© ESTRUCTURA EXPLICADAğŸ–¥ï¸ 1. Interfaz y Control (main.rs)Es la "Cara" del proyecto.Rol: Inicializa la aplicaciÃ³n, configura el entorno grÃ¡fico con Ratatui y maneja los hilos (threads) de ejecuciÃ³n.VisualizaciÃ³n: Divide la pantalla en paneles (Header, Chat Log, Input) y aplica el estilo "Matrix" (Verde/Negro).Input: Captura las teclas del usuario y procesa los comandos (/send, /dm, etc.).ğŸ§  2. El Cerebro (node.rs)Es el nÃºcleo lÃ³gico del sistema.Rol: Procesa cada paquete recibido (on_frame). Decide si el mensaje es para mÃ­, si debe retransmitirlo (Gossip Protocol) o si es un fragmento de archivo.Manejo de Vecinos: Mantiene la tabla de rutas (peers) y elimina nodos inactivos (Heartbeat/Pruning).ğŸ“¡ 3. Capa de Transporte (transport.rs)El sistema nervioso.Rol: Abstrae el manejo de sockets UDP. Permite enviar y recibir bytes crudos sin preocuparse por la lÃ³gica del sistema operativo.Clonable: DiseÃ±ado para ser compartido entre mÃºltiples hilos de forma segura.ğŸ” 4. Seguridad y CriptografÃ­a (crypto.rs & identity.rs)El escudo del sistema.identity.rs: Genera y almacena persistentemente las llaves Ed25519. Tu "DNI" en la red.crypto.rs: Maneja el cifrado AEAD. Asegura que solo el destinatario pueda leer el contenido y que nadie lo haya modificado en el camino.ğŸ§© 5. LogÃ­stica de Datos (chunker.rs)El gestor de carga pesada.Rol: Toma archivos grandes (imÃ¡genes, mapas) y los rompe en miles de pedazos pequeÃ±os (chunks) para que pasen por la red UDP.Reensamblaje: En el destino, espera las piezas, verifica que estÃ©n todas y reconstruye el archivo original en la carpeta downloads/.ğŸš€ InstalaciÃ³n y UsoPrerrequisitosRust & Cargo: Instalados en el sistema.Red: Dos o mÃ¡s computadoras en la misma red Wi-Fi/LAN (o una sola usando puertos distintos).EjecuciÃ³nClonar el repositorio:Bashgit clone https://github.com/sebastiansanchezcompina-ship-it/EmberNet.git
cd EmberNet
Iniciar el Nodo Principal (Nodo A):Bashcargo run 4004
Iniciar un Nodo Vecino (Nodo B):En otra terminal (o PC), conÃ©ctate a la IP del Nodo A:Bash# Ejemplo Local
cargo run 4005 127.0.0.1:4004

# Ejemplo en Red Wi-Fi real
cargo run 4005 192.168.1.XX:4004
Comandos de la InterfazDentro de la TUI, puedes usar los siguientes comandos:/statusğŸ“Š Muestra la lista de vecinos conectados y sus Ãºltimas seÃ±ales de vida./dm <ID_NODO> <MENSAJE>ğŸ•µï¸â€â™‚ï¸ EnvÃ­a un mensaje privado y cifrado a un nodo especÃ­fico (hex ID)./send <RUTA_ARCHIVO>ğŸ“¦ Fragmenta y envÃ­a un archivo a toda la red.Ejemplo: /send mapa.pngğŸ—ºï¸ Roadmap[x] Fase 1: Arquitectura P2P UDP y Cifrado Base. (âœ… Completado)[x] Fase 2: Protocolo de FragmentaciÃ³n para archivos grandes. (âœ… Completado)[x] Fase 3: Interfaz Visual TÃ¡ctica (TUI) con Ratatui. (âœ… Completado)[ ] Fase 4: Portabilidad a Android (CompilaciÃ³n Cruzada JNI). ğŸš§ En desarrollo[ ] Fase 5: ImplementaciÃ³n de Mesh Routing avanzado (AODV/Kad).âœ’ï¸ AutorSebastian RequejoIngeniero de Software & Arquitecto de Sistemas Distribuidos.Este proyecto es un prototipo de investigaciÃ³n para redes resilientes.
